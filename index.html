<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Go in der Praxis | Jan Stamer</title>

  <link rel="stylesheet" href="./assets/node_modules/reveal.js/dist/reset.css">
  <link rel="stylesheet" href="./assets/node_modules/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="./themes/corporate.css" id="theme">

  <link rel="stylesheet" href="./themes/reveal-run-in-terminal.css" />

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="./themes/tomorrow-night.css" id="highlight-theme">

  <link href="./assets/tailwind.min.css" rel="stylesheet" />
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section data-background-image="./themes/Pattern-11-outline.svg" data-background-size="800px"
        data-background-repeat="repeat" data-background-opacity=".15">
        <h1>Go in der Praxis</h1>
      </section>
      <section>
        <section data-background-image="./themes/github-cli-cover.png">
          <aside class="notes">
            <ul>
              <li>2013 begann eine Truppe um Solomon Hykes die Welt der Linux Container zu revolutionieren
              </li>
              <li>Mit Python und LXC wurde die erste Version von Docker entwickelt.</li>
              <li>2014 mit Docker 0.9 stellte Docker von LXC auf libcontainer um, libcontainer wurde in Go
                neu entwickelt.</li>
            </ul>
          </aside>
        </section>
        <section>
          <h1 class="cross-yellow"><code style="font-size: 110%;">gh</code> Github CLI</h1>
          <h1>149.298 <span style="font-size: 50%;">Zeilen Code</span></h1>
          <h1>490 <span style="font-size: 50%;">Contributors</span></h1>
        </section>
        <!--
        <section>
          <img src="./themes/Go-Logo_White.png" width="60%" style="margin: auto;" />
        </section>
        -->
      </section>
      </section>
      <section>
        <section style="text-align: left; font-size: 120%;">
          <h2 class="fragment" style="margin-bottom: .7em;"><small
              style="color: rgba(255, 200, 0, 0.6);">1.</small><span
              style="margin-left: .2em; width: 1.3em; display: inline-block;">üñ•Ô∏è</span> CLI Tools</h2>
          <h2 class="fragment" style="margin-bottom: .7em;"><small
              style="color: rgba(255, 200, 0, 0.6);">2.</small><span
              style="margin-left: .2em; width: 1.3em; display: inline-block;">üåê</span> Web App</h2>
          <h2 class="fragment"><small style="color: rgba(255, 200, 0, 0.6);">3.</small><span
              style="color: white; margin-left: .2em; width: 1.3em; display: inline-block;">Œª</span>
            Lambda Function</h2>
        </section>
      </section>
      <!--
      <section>
        <section>
          <div class="grid grid-cols-3 gap-1 items-center">
            <div></div>
            <div class="">
              <img src="./themes/gopher.svg" class="align-middle" />
            </div>
            <div></div>
          </div>
        </section>
        <section data-run-in-terminal="00_hellogopher/hellogopher.go" data-run-in-terminal-bin="go">
          <h2>Hello Gopher</h2>
          <pre><code data-trim data-noescape class="go">
                        package main
    
                        import "fmt"
                        
                        func main() {
                          fmt.Println("Hello Gopher!")
                        }
                    </code></pre>
          <div>
            <span class="fragment">
              Ausf√ºhren
              <pre><code data-trim data-noescape>
                        go build hellogopher.go // 1. Code kompilieren
                        ./hellogopher           // 2. Binary ausf√ºhren
                        </code></pre>
            </span>
            <pre class="fragment"><code data-trim data-noescape>
                            go run hellogopher.go   // Code kompilieren und ausf√ºhren
                        </code></pre>
          </div>
          <aside class="notes">
            - Every Go program is made up of packages.
            - Programs start running in package main.
            This program is using the packages with import paths "fmt" and "math/rand".
          </aside>
        </section>
        <section>
          <h2>Entwicklung</h2>
          <div class="grid grid-cols-3 gap-32 items-center">
            <div class="col-span-1 fragment">
              <img src="./themes/goland_logo_300x300.png" />
              JetBrains GoLand
            </div>
            <div class="col-span-1 fragment">
              <img src="./themes/Visual_Studio_Code_1.35_icon.svg" />
              Visual Studio Code
            </div>
            <div class="col-span-1 fragment">
              <img src="./themes/Vimlogo.svg" />
              Vim Go
            </div>
          </div>
        </section>
        -->
        <section>
          <h2>5 Fakten zu Go</h2>
          <div class="grid grid-cols-12 gap-1 items-center">
            <div class="col-span-9">
              <ol>
                <li class="fragment">statisches Typsystem</li>
                <li class="fragment">Garbage Collection</li>
                <li class="fragment">keine Vererbung</li>
                <li class="fragment">Concurrency eingebaut</li>
                <li class="fragment">native Ausf√ºhrung <br /> <span
                    style="position: relative;padding-left: .1em; top: -1.3em;font-size: 60%; font-size: 60%;">Linux,
                    Win, z/OS, 386, amd64, ARM, wasm, ...</span></li>
              </ol>
            </div>
            <div class="col-span-3">
              <img src="./themes/gopher.svg" />
            </div>
          </div>
        </section>
      </section>
      <section>
        <section>
          <h1>üñ•Ô∏è CLI Tool <br /> Go Proverbs</h1>
        </section>
        <section>
          <h2>Go Proverbs</h2>
          <ul>
            <li class="fragment">18 Prinzipien zur Go Entwicklung</li>
            <li class="fragment">von Rob Pike 2015 vorgestellt</li>
            <li class="fragment">"Clear is better than clever."</li>
          </ul>
        </section>
        <section>
          <h2>CLI Proverbs <small>ohne Argumente</small></h2>
          <pre><code data-trim data-noescape class="bash">
                        > pro
                    </code></pre>
          <pre class="fragment"><code data-trim data-noescape class="bash">
                        Clear is better than clever.
                    </code></pre>
        </section>
        <section>
          <h2>CLI Projekt aufsetzen</h2>
          <pre style="font-size: .5em;" class="fragment"><code data-trim data-noescape class="clean">
                        // 1. Go Modul erstellen (erzeugt go.mod)
                        > go mod init crossnative.com/pro
                    </code></pre>
          <pre style="font-size: .5em;" class="fragment"><code data-trim data-noescape class="go">
                        // 2. Datei main.go erstellen
                        package main

                        import "fmt"
                        
                        func main() {
                            fmt.Println("Hello Go Pro!")
                        }
                    </code></pre>
                    <span class="fragment">
                      Ausf√ºhren
                      <pre style="font-size: .5em;"><code data-trim data-noescape>
                                go build . // 1. Code kompilieren
                                ./pro      // 2. Binary ausf√ºhren
                                </code></pre>
                    </span>
                    <pre  style="font-size: .5em;" class="fragment"><code data-trim data-noescape>
                                    go run .   // Code kompilieren und ausf√ºhren
                    </code></pre>
        
        </section>
        <section>
          <h2>Entwicklung</h2>
          <div class="grid grid-cols-3 gap-32 items-center">
            <div class="col-span-1">
              <img src="./themes/goland_logo_300x300.png" />
              JetBrains GoLand
            </div>
            <div class="col-span-1">
              <img src="./themes/Visual_Studio_Code_1.35_icon.svg" />
              Visual Studio Code
            </div>
            <div class="col-span-1">
              <img src="./themes/Vimlogo.svg" />
              Vim Go
            </div>
          </div>
        </section>
        <section>
          <h2>Proverbs als Go Modul</h2>
          <img src="./themes/godoc_proverbs.png" class="align-middle" />
        </section>
        <section>
          <h2>Proverbs Modul nutzen</h2>
          <pre class="fragment"><code data-trim data-noescape class="clean">
                        // 1. Proverbs Modul Dependency
                        > go get github.com/jboursiquot/go-proverbs
                    </code></pre>
          <pre class="fragment"><code data-trim data-noescape class="clean">
                        // 2. Go Modul Descriptor go.mod
                        module crossnative.com/pro

                        go 1.22
                        
                        require github.com/jboursiquot/go-proverbs v0.0.2
                    </code></pre>
        </section>
        <section>
          <h2>Zuf√§lliges Proverb ausgeben</h2>
          <pre><code data-trim data-noescape class="go" data-line-numbers="3,5,6|3,5,6,9|">
                        package main

                        import (
                            "fmt"
                            "github.com/jboursiquot/go-proverbs"
                        )
                        
                        func main() {
                            fmt.Println(proverbs.Random())
                        }
                    </code></pre>
          <pre class="fragment"><code data-trim data-noescape class="clean">
                        // Ausgabe `go run .`
                        &{Make the zero value useful. http://youtube.com/322}
                    </code></pre>
        </section>
        <section>
          <h2>üí° Structs und Pointer</h2>
          <pre><code data-trim data-noescape class="go" data-line-numbers="9,10|">
                        package main

                        import (
                            "fmt"
                            "github.com/jboursiquot/go-proverbs"
                        )
                        
                        func main() {
                            // Pointer Variable auf Proverb Struct
                            var p *proverbs.Proverb = proverbs.Random()
                            
                            fmt.Println(p)
                        }
                    </code></pre>
          <pre><code data-trim data-noescape class="go" data-line-numbers="">
                        // Struct statt Klasse
                        type Proverb struct {
                            Saying string
                            Link   string
                        }
                    </code></pre>
        </section>
        <section>
          <h2>Zuf√§lliges Proverb ausgeben</h2>
          <pre><code data-trim data-noescape class="go" data-line-numbers="3,5,6|3,5,6,9|11-12|">
                        package main

                        import (
                            "fmt"
                            "github.com/jboursiquot/go-proverbs"
                        )
                        
                        func main() {
                            var p *proverbs.Proverb = proverbs.Random()

                            // Zugriff auf Property des Structs
                            fmt.Println(p.Saying)
                        }
                    </code></pre>
          <pre class="fragment"><code data-trim data-noescape class="clean">
                        // Ausgabe `go run .`
                        Make the zero value useful.
                    </code></pre>
        </section>
        <section>
          <h2>CLI Proverbs <small>mit Count</small></h2>
          <pre><code data-trim data-noescape class="bash">
                        > pro -count=3
                    </code></pre>
          <pre class="fragment"><code data-trim data-noescape class="bash">
                        Clear is better than clever.
                        Documentation is for users.
                        Don't panic.
                    </code></pre>
        </section>
        <section>
          <h2>Flag f√ºr Count</h2>
          <pre style="font-size: 45%;"><code data-trim data-noescape class="go" data-line-numbers="2,8-9|11-12|14-18|">
                        import (
                            "flag"
                            "fmt"
                            "github.com/jboursiquot/go-proverbs"
                        )
                        
                        func main() {
                            // 1. Flags definieren
                            var count *int = flag.Int("count", 1, "proverb count")
                        
                            // 2. Flags parsen
                            flag.Parse()
                        
                            // 3. Ausgabe in Schleife
                            for i := 0; i < *count; i++ {
                                var p *proverbs.Proverb = proverbs.Random()
                                fmt.Println(p.Saying)
                            }                        
                        }                        
                    </code></pre>
          <pre style="font-size: 45%;" class="fragment"><code data-trim data-noescape class="clean">
                        // Compile mit `go build .`, Ausgabe mit `pro -count=2`
                        Make the zero value useful.
                        Reflection is never clear.
                    </code></pre>
        </section>
        <section>
          <h2>CLI Proverbs <small>mit ung√ºltigem Count</small></h2>
          <pre><code data-trim data-noescape class="bash">
                        > pro -count=
                    </code></pre>
          <pre class="fragment"><code data-trim data-noescape class="bash">
            flag needs an argument: -count
            Usage of ./pro:
              -count int
                    proverb count (default 1)
           </code></pre>
        </section>        
        <section>
          <h2>Flag f√ºr Count <small>Refactored</small></h2>
          <pre style="font-size: 45%;"><code data-trim data-noescape class="go" data-line-numbers="9,16|15,18|">
                    import (
                        "flag"
                        "fmt"
                        "github.com/jboursiquot/go-proverbs"
                    )
                    
                    func main() {
                        // 1. Flags definieren
                        count := flag.Int("count", 1, "proverb count")
                    
                        // 2. Flags parsen
                        flag.Parse()
                    
                        // 3. Ausgabe in Schleife
                        for range *count {
                            p := proverbs.Random()
                            fmt.Println(p.Saying)
                        }                        
                    }                        
                </code></pre>
          <pre style="font-size: 45%;"><code data-trim data-noescape class="clean">
                    // Compile mit `go build .`, Ausgabe mit `pro -count=2`
                    Make the zero value useful.
                    Reflection is never clear.
                </code></pre>
        </section>
      </section>
      <section>
        <section>
          <h1>üñ•Ô∏è CLI Tool <br /> File Downloader</h1>
        </section>
        <section>
          <h2>File Downloader</h2>
          <ul>
            <li class="fragment">Paralleler File Download</li>
            <li class="fragment">Nutzt Goroutinen und Channels</li>
            <li class="fragment">Context is King</li>
          </ul>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">1/3</span></h2>
          <pre class="fragment"><code data-trim data-noescape data-line-numbers="1-5,10|1-5,10|1,7-9,10|" class="go">
            func main() {
              urls := []string{
                "https://go.dev/dl/go1.22.2.src.tar.gz",
                "https://go.dev/dl/go1.22.2.darwin-amd64.tar.gz",
              }
            
              // URL Download
              ctx := context.Background()
              downloadURLs(ctx, urls)
            }
            
            func downloadURLs(ctx context.Context, urls []string) {
              // ...
            }
          </code></pre>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">2/3</span></h2>
          <pre class="fragment"><code data-trim data-noescape data-line-numbers="2,3|4-11|13-16|" class="go">
            func downloadURLs(ctx context.Context, urls []string) {
              // 1. Channel f√ºr Download Jobs
              jobs := make(chan int, len(urls))
            
              // 2. Go Routinen f√ºr Downloads starten
              for _, url := range urls {
                go func() {
                  downloadURL(ctx, url)
                  jobs <- 1 // Send an Channel (blockiert)
                }()
              }
            
              // 3. Warten auf Ende aller Go Routinen
              for range len(urls) {
                <-jobs // Receive von Channel (blockiert)
              }
            }
          </code></pre>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">3/3</span></h2>
          <pre style="font-size: 45.3%;" class="fragment"><code data-trim data-noescape data-line-numbers="1-3|5-8|10-12|14-15|" class="go">
            func downloadURL(ctx context.Context, url string) {
              // 1. HTTP Request mit Context erstellen
              req, _ := http.NewRequestWithContext(ctx, http.MethodGet, url, nil)
  
              // 2. HTTP Aufruf durchf√ºhren
              httpClient := http.Client{}
              resp, _ := httpClient.Do(req)
              defer resp.Body.Close()
  
              // 3. Ausgabe in Datei
              file, _ := os.Create(filepath.Base(url))
              defer file.Close()
            
              // 4. HTTP Body in Datei streamen
              io.Copy(file, resp.Body)
            }          
          </code></pre>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">3/3 mit Fehlern</span></h2>
          <pre style="font-size: 45.3%;" class="fragment"><code data-trim style="overflow: hidden;" data-noescape data-line-numbers="1,10|2-6|" class="go">
            func downloadURL(ctx context.Context, url string) error {
              // 1. HTTP Request mit Context erstellen
              req, err := http.NewRequestWithContext(ctx, http.MethodGet, url, nil)
              if err != nil {
                return err
              }
  
              // 2. HTTP Aufruf durchf√ºhren
              // ...
            }          
          </code></pre>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">mit Timeout</span></h2>
          <pre class="fragment" style="font-size: 53%;"><code data-trim data-noescape data-line-numbers="7-8,18-19|10-16|7-19" class="go">
            func main() {
              urls := []string{
                "https://go.dev/dl/go1.22.2.src.tar.gz",
                "https://go.dev/dl/go1.22.2.darwin-amd64.tar.gz",
              }
  
              // 1. Context mit Cancel Func
              ctx, cancel := context.WithCancel(context.Background())
            
              // 2. Timer Channel nutzen
              timer := time.After(3 * time.Second)
              go func() {
                <-timer // Receive timer Channel
                log.Println("Canceled due to timeout")
                cancel()
              }()
  
              // 3. URL Download
              downloadURLs(ctx, urls)
            }  
          </code></pre>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">mit Interrupt</span></h2>
          <pre class="fragment" style="font-size: 53%;"><code data-trim data-noescape data-line-numbers="7-8,19-20|10-17|7-20" class="go">
            func main() {
              urls := []string{
                "https://go.dev/dl/go1.22.2.src.tar.gz",
                "https://go.dev/dl/go1.22.2.darwin-amd64.tar.gz",
              }
  
              // 1. Context mit Cancel Func
              ctx, cancel := context.WithCancel(context.Background())
            
              // 2. Interrupt Channel nutzen
              interrupt := make(chan os.Signal, 1)
              signal.Notify(interrupt, os.Interrupt, syscall.SIGTERM)
              go func() {
                <-interrupt // Receive interrupt Channel
                log.Println("Canceled due to interrupt")
                cancel()
              }()
  
              // 3. URL Download
              downloadURLs(ctx, urls)
            }  
          </code></pre>
        </section>
        <section>
          <h2>File Downloader <span style="font-size: 50%;">mit Select</span></h2>
          <pre class="fragment" style="font-size: 53%;"><code data-trim data-noescape data-line-numbers="2-4|7-11,16|7,12-16|7-16" class="go">
            func main() {            
              // 1. Context mit Cancel Func
              //    + Timeout Channel
              //    + Interrupt Channel
            
              go func() {
                select {
                  // 2a. Receive timer Channel
                  case <-timer: 
                    log.Println("Canceled due to timeout")
                    cancel()
                  // 2b. Receive interrupt Channel
                  case <-interrupt: 
                    log.Println("Canceled due to interrupt")
                    cancel()
                  }            
              }()
  
              // 3. URL Download
              downloadURLs(ctx, urls)
            }  
          </code></pre>
        </section>
      </section>
      <section>
        <section>
          <h2>üñ•Ô∏è CLI Tools</h2>
          <ul>
            <li class="fragment">Standardlib Flags</li>
            <li class="fragment">einfache Releases mit Goreleaser</li>
            <li class="fragment">Cobra CLI Lib wenn's komplexer wird</li>
            <li class="fragment">Github, Kubernetes sind Go CLIs</li>            
          </ul>
        </section>
      </section>
      <section>
        <section>
          <h1>üåê Web App Cats</h1>
        </section>
        <!--
        <section>
          <img src="themes/cats_app_web.png" />
        </section>
        -->
      </section>
      <section>
        <section>
          <h2>Set up Cats App</h2>
          <pre><code data-trim data-noescape class="bash">
                          # 1. Verzeichnis erstellen
                          mkdir cats
                          cd cats
                      </code></pre>
          <pre><code data-trim data-noescape class="bash">
                            # 2. Go Modul aufsetzen
                            go mod init crossnative.com/cats
                      </code></pre>
          <pre><code data-trim data-noescape class="bash">
                        # 3. Go Datei erstellen
                        touch main.go
                      </code></pre>
          <aside class="notes">
          </aside>
        </section>
        <section>
          <h2>Cat API <span style="font-size: 50%;">simple</span></h2>
          <pre class="fragment" style="font-size: 52%;"><code data-trim data-noescape data-line-numbers="6-9|1-4" class="go">
                    func catAPIHandler(w http.ResponseWriter, r *http.Request) {
                      fmt.Fprintf(w, "Meow!")
                      w.WriteHeader(http.StatusOK)
                    }
                    
                    func main() {
                      http.HandleFunc("GET /api/cats", catAPIHandler)
                      http.ListenAndServe(":8080", nil)
                    }
                  </code></pre>
        </section>
        <section>
          <h2>Cat API <span style="font-size: 50%;">mit JSON</span></h2>
          <pre class="fragment" style="font-size: 0.51em; overflow: hidden;"><code data-trim data-noescape data-line-numbers="1-4|6,15|6,7-8,15|6,10-11,15|6,13-14,15|" class="go">
                    // 1. Struct mit JSON Tag definieren
                    type Cat struct {
                      Name string `json:"name"`
                    }
                    
                    func catAPIHandler(w http.ResponseWriter, r *http.Request) {
                      // 2. Slice erstellen
                      cats := make([]Cat, 1)

                      // 3. Struct erstellen und einf√ºgen
                      cats[0] = Cat{Name: "Ginger"}

                      // 4. JSON rendern
                      json.NewEncoder(w).Encode(cats)
                    }
                                
                    func main() {
                      http.HandleFunc("GET /api/cats", catAPIHandler)
                      http.ListenAndServe(":8080", nil)
                    }
                  </code></pre>
          <aside class="notes">
            <ul>
              <li>struct - collection of data fields with declared data types</li>
            </ul>
          </aside>
        </section>
        <section>
          <h2>Cat API <span style="font-size: 50%;">mit JSON</span></h2>
          <pre class="fragment"><code data-trim data-noescape data-line-numbers="1-2|3-7" class="bash">
                    # Query cat API
                    curl -s http://localhost:8080/api/cats | jq 
                    [
                      {
                        "name": "Ginger"
                      }
                    ]
                  </code></pre>
        </section>
        <section>
          <h2>Test Cat API <span style="font-size: 50%;"><code>cat_api_test.go</code></span></h2>
          <pre class="fragment" style="font-size: 0.47em; overflow: hidden; margin-left: 0; margin-right: 0;"><code data-trim data-noescape data-line-numbers="1,15|2-3|5-6|8-9|11-14|1-15" class="go">
                  func TestCatAPIHandler(t *testing.T) {
                    // 1. Test Request erstellen
                    req, _ := http.NewRequest("GET", "/api/cats", nil)
                  
                    // 2. HTTP Recorder erstellen (ist http.ResponseWriter)
                    rec := httptest.NewRecorder()
                  
                    // 3. Handler aufrufen
                    catAPIHandler(rec, req)
        
                    // 4. Response pr√ºfen
                    if rec.Code != http.StatusOK {
                      t.Errorf("got status %v expected %v", rec.Code, http.StatusOK)
                    }
                  }
                  </code></pre>
        </section>
        <section>
          <h2>Test ausf√ºhren</h2>
          <pre class="fragment" style="font-size: 0.45em; overflow: hidden;"><code data-trim data-noescape data-line-numbers="1|2-7" class="bash">
                    go test -v ./...
                    === RUN   TestCatAPIHandler
                    --- PASS: TestCatAPIHandler (0.00s)
                    PASS
                    coverage: 50.0% of statements
                    ok      crossnative.com/cats      0.127s  coverage: 50.0% of statements
                  </code></pre>
        </section>
      </section>
      <section>
        <section>
          <h1>Cats App <br /> Web</h1>
        </section>
        <section>
          <h2>Cats Web App</h2>
          <pre class="fragment" style="font-size: 0.5em; overflow: hidden;"><code data-trim data-noescape data-line-numbers="7-8|10-11|13-14|" class="go">  
                    func indexHandler(w http.ResponseWriter, r *http.Request) {
                      tpl := template.Must(template.ParseFiles("index.html"))
                      tpl.Execute(w, nil)
                    }
        
                    func main() {
                      // 1. Mulitplexer erzeugen
                      mux := http.NewServeMux()

                      // 2. Handler registrieren
                      mux.HandleFunc("/", indexHandler)
        
                      // 3. Server mit Mulitplexer starten
                      http.ListenAndServe(":8080", mux)
                    }
                  </code></pre>
          <aside class="notes">
            <ul>
              <li>ServeMux is an HTTP request multiplexer.</li>
              <li>It matches the URL of each incoming request against a list of registered patterns and calls the
                handler.</li>
            </ul>
          </aside>
        </section>
        <!--
        <section>
          <h2>File Server<span style="font-size: 50%;">aus Dateisystem</span></h2>
          <pre class="fragment" style="font-size: 0.5em; overflow: hidden;"><code data-trim data-noescape data-line-numbers="5-7" class="go">
                    func main() {
                      mux := http.NewServeMux()
                      mux.HandleFunc("/", indexHandler)
        
                      // Serve Files
                      fs := http.FileServer(http.Dir("assets"))
                      mux.Handle("/assets/", http.StripPrefix("/assets/", fs))            
        
                      http.ListenAndServe(":8080", mux)
                    }
                  </code></pre>
        </section>
        -->
        <section>
          <h2>File Server <span style="font-size: 50%;">aus Binary</span></h2>
          <pre class="fragment" style="font-size: 0.5em; overflow: hidden;"><code data-trim data-noescape data-line-numbers="8-9,1-2" class="go">
                    //go:embed assets
                    var assets embed.FS
        
                    func main() {
                      mux := http.NewServeMux()
                      mux.HandleFunc("/", indexHandler)
        
                      // Serve Files
                      mux.Handle("/assets/", http.FileServer(http.FS(assets)))
        
                      http.ListenAndServe(":8080", mux)
                    }
                  </code></pre>
        </section>
        <!--
                <section>
                  <h2>Handler and HandleFunc</h2>
                  <img class="fragment" src="themes/godoc-handlers.png" />
                </section>
                -->
        <section>
          <h2>Index Handler <span style="font-size: 50%;">Template mit Daten</span></h2>
          <div class="grid grid-cols-3 gap-1 text-left">
            <div class="col-span-2 fragment">
              <pre style="font-size: 0.38em; overflow: hidden; margin-left: 0;"><code data-trim data-noescape class="go">  
                        type Cat struct {
                          Name string
                        }
        
                        func indexHandler(w ResponseWriter, r *Request) {
                          // 1. Slice erstellen
                          cat := make([]Cat, 1)
                        
                          // 2. Struct erstellen und einf√ºgen
                          cat[0] = Cat{Name: "Ginger"}
                        
                          // 3. Template rendern
                          tpl := template.Must(template.ParseFiles("index.html"))
                          tpl.Execute(w, cat)
                        }
                      </code></pre>
            </div>
            <div class="col-span-4 fragment">
              <pre style="font-size: 0.4em; overflow: hidden; margin-left: 0;"><code data-trim data-noescape class="html">  
                        &lt;body>
                          &lt;h1>Cats App&lt;/h1>
                          {{ range . }}
                            &lt;h2>{{ .Name }}&lt;/h2>
                          {{ end }}
                        &lt;/body>                
                      </code></pre>
            </div>
          </div>
        </section>
        <section data-background-image="themes/the-cat-api.png">
        </section>
        <section>
          <h2>Index Handler <span style="font-size: 50%;">mit Cats API</span></h2>
          <div class="grid grid-cols-3 gap-1 text-left">
            <div class="col-span-2 fragment">
              <span style="font-size: 70%">Query Cats API</span>
              <pre style="font-size: 0.34em; overflow: hidden; margin-left: 0;"><code data-trim data-noescape class="bash">
                        GET https://api.thecatapi.com/v1/breeds?limit=5
                      </code></pre>
              <pre style="font-size: 0.35em; overflow: hidden; margin-left: 0;"><code data-trim data-noescape class="json">
                     [
                        {
                           "id": "abys",
                           "name": "Abyssinian",
                           "image": {
                             "url": "https://cdn2.thecatapi.com/0XYvRd7oD.jpg"
                           }
                        },
                        {
                           "id": "aege",
                           "name": "Aegean",
                           "image": {
                             "url": "https://cdn2.thecatapi.com/ozEvzdVM-.jpg"
                           }
                        },
                        ...
                     ]
                      </code></pre>
            </div>
            <div class="col-span-4 fragment">
              <span style="font-size: 70%">Map JSON auf Struct</span>
              <pre style="font-size: 0.37em; overflow: hidden; margin-left: 0;"><code data-trim data-noescape class="go">  
                        type Cat struct {
                          ID    string `json:"id"`
                          Name  string `json:"name"`
                          Image struct {
                            URL string `json:"url"`
                          } `json:"image"`
                        }            
                      </code></pre>
            </div>
          </div>
        </section>
        <!--
                <section class="bg-white" data-background-iframe="https://mholt.github.io/json-to-go/">
                </section>
                -->
        <section>
          <h2>Index Handler <span style="font-size: 50%;">mit Cats API</span></h2>
          <pre style="font-size: 0.43em;" class="fragment"><code data-trim data-noescape data-line-numbers="2-3|5-6|8-11|13-14|" class="go">  
                    func indexHandler(w http.ResponseWriter, r *http.Request) {
                      // 1. Cat API Aufruf (Fehler ignorieren)
                      resp, _ := http.Get("https://api.thecatapi.com/v1/breeds?limit=5")
                    
                      // 2. Slice f√ºr Cat Structs
                      cat := make([]Cat, 5)
        
                      // 3. Response Body parsen
                      defer resp.Body.Close()            
                      body, _ := ioutil.ReadAll(resp.Body)
                      json.Unmarshal(body, &cat)
                    
                      // 4. Template rendern
                      tpl.Execute(w, cat)
                    }
                   </code></pre>
        </section>
        <section data-background-color="#541298">
          <h2>Index Handler <span style="font-size: 50%;">mit Fehlerhandling üí£</span></h2>
          <pre style="font-size: 0.43em;" class="fragment"><code data-trim data-noescape data-line-numbers="2-3|4-8|2-8,16-17,20-21" class="go">  
                    func indexHandler(w http.ResponseWriter, r *http.Request) {
                      // 1. Cat API Aufruf
                      resp, err := http.Get("https://api.thecatapi.com/v1/breeds?limit=5")
                      //    Fehler behandeln
                      if err != nil {
                        http.Error(w, "Cats API error", http.StatusInternalServerError)
                        return
                      }
                    
                      // 2. Slice f√ºr Cat Structs
                      cat := make([]Cat, 5)
        
                      // 3. Response Body parsen
                      defer resp.Body.Close()            
                      body, _ := ioutil.ReadAll(resp.Body)
                      err := json.Unmarshal(body, &cat)
                      // TODO: Fehler behandeln
                    
                      // 4. Template rendern
                      err := tpl.Execute(w, cat)
                      // TODO: Fehler behandeln
                    }
                   </code></pre>
        </section>
      </section>

      <section>
        <section>
          <h2>üåê Web App</h2>
          <ul>
            <li class="fragment">Standardlib JSON und Router</li>
            <li class="fragment">HTTP Tests</li>
            <li class="fragment">Querschnittsfeatures durch Middleware</li>
          </ul>
        </section>
      </section>

      <section>
        <section>
          <h1><span style="color: white;">Œª</span> Lambda Function</h1>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function</h2>
          <ul>
            <li class="fragment">Go ideal f√ºr Serverless Functions</li>            
            <li class="fragment">schneller Start, geringer Speicherbedarf</li>
            <li class="fragment">unterst√ºtzt von AWS, Azure, Google</li>            
          </ul>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function</h2>
         <img src="themes/lambda-jax-hello.png"></img>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function </h2>
          <pre style="font-size: 0.44em; overflow: hidden;" class="fragment"><code style="overflow: hidden;" data-trim data-noescape data-line-numbers="1-2|4-5|7-18|" class="bash">  
            // 1. Lambda Go Projekt aufsetzen
            > sam init

            // 2. Lambda bauen
            > sam build

            // 3. Lambda ausf√ºhren
            > sam local invoke -e events/event.json
            Invoking bootstrap (provided.al2023)                                                                             
            Local image is up-to-date
            Using local image: public.ecr.aws/lambda/provided:al2023-rapid-x86_64.
            
            Mounting .aws-sam/build/HelloWorldFunction, inside runtime container
            REPORT RequestId: 37876f36  Init Duration: 0.52 ms  Duration: 80.04 ms
            Billed Duration: 81 ms  Memory Size: 128 MB   Max Memory Used: 128 MB
            {"statusCode": 200, "body": "Hello JAX!"}
           </code></pre>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function </h2>
          <img src="themes/aws-lambda-jax-hello.png"/>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function </h2>
          <pre class="fragment"><code data-trim data-noescape data-line-numbers="1-2|3" class="bash">
                    # Query AWS Lambda
                    curl -s https://0up9.eu-north-1.amazonaws.com/Prod/hello
                    Hello JAX!
            </code></pre>

            <div class="fragment">
              <h4>Footprint</h4>
              <ul style="font-size: 80%;">
                <li>Package Size 5,3 MB</li>
                <li>Billed Duration 70 ms</li>
                <li>Max Memory Used 18 MB</li>
                <li>Init Duration 63.66 ms	</li>
              </ul>
            </div>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function </h2>
          <pre style="font-size: 0.375em;" class="fragment"><code  style="overflow: hidden;" data-trim data-noescape data-line-numbers="14-16|7-12|" class="go">  
            import (
              "fmt"
              "github.com/aws/aws-lambda-go/events"
              "github.com/aws/aws-lambda-go/lambda"
            )
            
            func handler(req events.APIGatewayProxyRequest) (events.APIGatewayProxyResponse, error) {
              return events.APIGatewayProxyResponse{
                Body:       "Hello JAX!",
                StatusCode: 200,
              }, nil
            }
            
            func main() {
              lambda.Start(handler)
            }            
           </code></pre>
        </section>
        <section>
          <h2><span style="color: white;">Œª</span> Lambda Function <small>Projekt</small> </h2>
          <pre class="fragment"><code data-trim data-noescape class="bash">
            |-events
               | event.json // Beispiel Request
            |-hello-world   // Go App
               | go.mod
               | go.sum
               | main.go
               | main_test.go
            | Makefile       // Build File
            | samconfig.toml // SAM Config
            | template.yaml  // SAM Config
            | README.md
            </code></pre>
        </section>
      </section>
      <section>
        <section>
          <div class="grid grid-cols-3 gap-1 text-left">
            <div class="fragment">
              <h4 style="padding-bottom: 10px;">üñ•Ô∏è CLI Tools</h4>
              <ul style="font-size: 95%;">
                <li>Projekt Setup</li>
                <li>Variablen, Schleifen</li>
                <li>Goroutinen, Channels</li>
                <li>Context</li>
                <li>Structs</li>
              </ul>
            </div>
            <div class="fragment">
              <h4 style="padding-bottom: 10px;">üåê Web App</h4>
              <ul style="font-size: 95%;">
                <li>Web Server</li>
                <li>Slice</li>
                <li>Unit Test</li>
                <li>JSON</li>
                <li>Fehlerhandling</li>
              </ul>
            </div>
            <div class="fragment">
              <h4 style="padding-bottom: 10px;"><span style="color: white;">Œª</span> Lambda Func</h4>
              <ul style="font-size: 95%;">
                <li>AWS Setup</li>
                <li>Serverless Experience</li>
              </ul>
            </div>
          </div>
        </section>
        <section>
          <h2 style="font-size: 170%;">3 Gr√ºnde f√ºr Go</h2>
          <ol style="font-size: 130%;">
            <li class="fragment">Einfach</li>
            <li class="fragment">M√§chtig</li>
            <li class="fragment">Langweilig</li>
          </ol>
        </section>
        <section>
          <h2>Go liebt</h2>
          <div class="grid grid-cols-2 gap-10 text-left">
            <div class="fragment">
              <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-box"
                viewBox="0 0 16 16">
                <path
                  d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z" />
              </svg>
              Microservices
            </div>
            <div class="fragment">
              <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-braces"
                viewBox="0 0 16 16">
                <path
                  d="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6zM13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6z" />
              </svg>
              Serverless Functions
            </div>
            <div class="fragment">
              <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor"
                class="bi bi-terminal-fill" viewBox="0 0 16 16">
                <path
                  d="M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm9.5 5.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-6.354-.354a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146z" />
              </svg>
              Kommandozeilen-Tools
            </div>
            <div class="fragment">
              <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-gear-fill"
                viewBox="0 0 16 16">
                <path
                  d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z" />
              </svg>
              DevOps und Cloud
            </div>
          </div>
        </section>
      </section>
      <section>
        <section data-background-image="./themes/Go_Diversity.png" data-background-size="40%">
        </section>
        <section>
          <div class="grid grid-cols-2 gap-1 text-left">
            <div>
              <img src="./themes/JanStamer_profil_schmal.png" class="object-scale-down h-80" style="margin-top: 0" />
            </div>
            <div>
              <h2>Jan Stamer</h2>
              <p>
                <a href="mailto:jan.stamer@crossnative.com" style="font-size: 85%">jan.stamer@crossnative.com</a>
              </p>

              <div class="grid grid-cols-4 gap-1 text-left">
                <div>
                  <a href="https://www.linkedin.com/in/jan-stamer">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="72" height="72">
                      <path fill="none" d="M0 0h24v24H0z" />
                      <path
                        d="M6.94 5a2 2 0 1 1-4-.002 2 2 0 0 1 4 .002zM7 8.48H3V21h4V8.48zm6.32 0H9.34V21h3.94v-6.57c0-3.66 4.77-4 4.77 0V21H22v-7.93c0-6.17-7.06-5.94-8.72-2.91l.04-1.68z"
                        fill="rgba(255,255,255,1)" />
                    </svg>
                  </a>
                </div>
                <div>
                  <a href="https://github.com/remast/">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="72" height="72">
                      <path fill="none" d="M0 0h24v24H0z" />
                      <path
                        d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z"
                        fill="rgba(255,255,255,1)" />
                    </svg>
                  </a>
                </div>
              </div>

            </div>
        </section>
        <section data-background-image="./themes/qr-code.png" data-background-size="30%">
          <h1 style="margin-top: -4em;">Go in der Praxis</h1>
        </section>  
      </section>
    </div>
  </div>

  <script src="./assets/node_modules/reveal.js/dist/reveal.js"></script>
  <script src="./assets/node_modules/reveal.js/plugin/notes/notes.js"></script>
  <script src="./assets/node_modules/reveal.js/plugin/markdown/markdown.js"></script>
  <script src="./assets/node_modules/reveal.js/plugin/highlight/highlight.js"></script>
  <script src="./assets/node_modules/reveal.js/plugin/zoom/zoom.js"></script>
  <script>
    Reveal.initialize({
      transition: 'slide',
      pdfSeparateFragments: false,
      navigationMode: 'linear',
      dependencies: [
        { src: './assets/node_modules/reveal-plantuml/dist/reveal-plantuml.min.js' },
        {
          src: './addons/reveal-run-in-terminal/static/plugin/reveal-run-in-terminal.js',
          callback: function () {
            RunInTerminal.init();
          },
          async: true,
        },
      ],
      hash: true,
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom]
    });
  </script>

</body>

</html>